<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="icon" href="../assets/favicon.png" type="image/png"/>
  <link rel="stylesheet" href="../styles/styles.css"/>
  <!-- Se usi la patch grafica v2, lascia questa riga. Altrimenti puoi toglierla. -->
  <link rel="stylesheet" href="../css/asd-tabs-override-v2.css?v=2"/>
  <title>Foto — ASD</title>
</head>
<body>
  <div class="page">
    <a class="back" href="../index.html">← Torna alla home</a>

    <div class="brand">
      <img class="brand-logo" src="../assets/logo.png" alt="Logo ASD Santi Pietro e Paolo" />
      <div class="brand-title">
        <h1>Foto</h1>
        <div class="brand-sub">ASD Santi Pietro e Paolo</div>
      </div>
    </div>

    <div class="card">
      <p>Galleria fotografica</p>
      <!-- ⚠️ IMPOSTA QUI IL PERCORSO ALLA TUA CARTELLA FOTO -->
      <div id="galleria" data-assets-base="../assets/foto/"></div>
    </div>
  </div>

  <!-- Modale full-screen -->
  <div id="asd-modal" class="asd-modal" aria-hidden="true">
    <div class="asd-modal__inner">
      <button type="button" class="asd-modal__close" aria-label="Chiudi">✕</button>
      <div class="asd-modal__body"></div>
    </div>
  </div>

  <!-- Script modale (se già lo hai, lascia il tuo) -->
  <script>
  /*! Modal base per immagini/PDF */
  (function () {
    const modal = document.getElementById('asd-modal');
    if (!modal) return;
    const body  = modal.querySelector('.asd-modal__body');
    const closeBtn = modal.querySelector('.asd-modal__close');
    const isImage = (u) => /\.(png|jpe?g|gif|webp|svg)$/i.test(u);
    const isPDF   = (u) => /\.pdf(\?.*)?$/i.test(u);
    function open(href){ body.innerHTML=''; if(isImage(href)){ const img=new Image(); img.src=href; img.style="max-width:100%;max-height:100%;object-fit:contain"; body.appendChild(img);} else { const ifr=document.createElement('iframe'); ifr.src=href; ifr.width="100%"; ifr.height="100%"; ifr.frameBorder="0"; body.appendChild(ifr);} modal.classList.add('is-open'); document.documentElement.style.overflow='hidden';}
    function close(){ modal.classList.remove('is-open'); document.documentElement.style.overflow=''; body.innerHTML=''; }
    document.addEventListener('click', (e)=>{ const a=e.target.closest('a'); if(!a) return; const href=a.getAttribute('href')||''; if(isImage(href)||isPDF(href)){ if(a.hasAttribute('data-no-modal')) return; e.preventDefault(); open(href); }});
    modal.addEventListener('click', (e)=>{ if(e.target===modal) close(); });
    closeBtn.addEventListener('click', close);
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') close(); });
  })();
  </script>

  <!-- Script galleria (VEDI BLOCCO SOTTO) -->
  <script src="../js/foto-auto-plus-v3.js?v=3"></script>
</body>
</html>

